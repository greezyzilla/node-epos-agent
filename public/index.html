<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Barcode Print Agent</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <style>
      body {
        padding-top: 20px;
        padding-bottom: 20px;
      }
      .card {
        margin-bottom: 20px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      .status-indicator {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 5px;
      }
      .status-online {
        background-color: #28a745;
      }
      .status-offline {
        background-color: #dc3545;
      }
      .form-label {
        font-weight: 500;
      }
      .btn-print {
        min-width: 100px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1 class="text-center mb-4">Barcode Print Agent</h1>

      <!-- Status Card -->
      <div class="card">
        <div class="card-header bg-primary text-white">System Status</div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <p>
                <strong>Server Status:</strong>
                <span
                  class="status-indicator status-online"
                  id="server-status-indicator"
                ></span>
                <span id="server-status">Checking...</span>
              </p>
              <p>
                <strong>Server Info:</strong>
                <span id="server-info">Loading...</span>
              </p>
            </div>
            <div class="col-md-6">
              <p>
                <strong>Printer Status:</strong>
                <span
                  class="status-indicator status-offline"
                  id="printer-status-indicator"
                ></span>
                <span id="printer-status">Checking...</span>
              </p>
              <p>
                <strong>Printer Info:</strong>
                <span id="printer-info">Loading...</span>
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Printer Selection Card -->
      <div class="card">
        <div class="card-header bg-primary text-white">Printer Selection</div>
        <div class="card-body">
          <div class="row mb-3">
            <div class="col-md-8">
              <select class="form-select" id="printer-select">
                <option value="">Select a printer</option>
              </select>
            </div>
            <div class="col-md-4">
              <button class="btn btn-primary w-100" id="refresh-devices-btn">
                Refresh Devices
              </button>
            </div>
          </div>
          <button class="btn btn-success" id="set-default-printer-btn">
            Set as Default Printer
          </button>
        </div>
      </div>

      <!-- Print Text Card -->
      <div class="card">
        <div class="card-header bg-primary text-white">Print Text</div>
        <div class="card-body">
          <div class="mb-3">
            <label for="text-input" class="form-label">Text to Print</label>
            <textarea
              class="form-control"
              id="text-input"
              rows="3"
              placeholder="Enter text to print"
            ></textarea>
          </div>
          <button class="btn btn-primary btn-print" id="print-text-btn">
            Print
          </button>
        </div>
      </div>

      <!-- Print Barcode Card -->
      <div class="card">
        <div class="card-header bg-primary text-white">Print Barcode</div>
        <div class="card-body">
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="barcode-input" class="form-label"
                >Barcode Content</label
              >
              <input
                type="text"
                class="form-control"
                id="barcode-input"
                placeholder="Enter barcode content"
              />
            </div>
            <div class="col-md-6">
              <label for="barcode-type" class="form-label">Barcode Type</label>
              <select class="form-select" id="barcode-type">
                <option value="EAN13">EAN-13</option>
                <option value="EAN8">EAN-8</option>
                <option value="UPC-A">UPC-A</option>
                <option value="UPC-E">UPC-E</option>
                <option value="CODE39">CODE39</option>
                <option value="ITF">ITF</option>
                <option value="NW7">NW7</option>
              </select>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-4">
              <label for="barcode-width" class="form-label">Width (1-5)</label>
              <input
                type="number"
                class="form-control"
                id="barcode-width"
                min="1"
                max="5"
                value="2"
              />
            </div>
            <div class="col-md-4">
              <label for="barcode-height" class="form-label"
                >Height (1-255)</label
              >
              <input
                type="number"
                class="form-control"
                id="barcode-height"
                min="1"
                max="255"
                value="100"
              />
            </div>
            <div class="col-md-4">
              <label for="barcode-position" class="form-label"
                >Text Position</label
              >
              <select class="form-select" id="barcode-position">
                <option value="BLW">Below</option>
                <option value="ABV">Above</option>
                <option value="BTH">Both</option>
                <option value="OFF">Off</option>
              </select>
            </div>
          </div>
          <button class="btn btn-primary btn-print" id="print-barcode-btn">
            Print Barcode
          </button>
        </div>
      </div>
    </div>

    <!-- Status Messages -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
      <div
        id="toast-message"
        class="toast"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
      >
        <div class="toast-header">
          <strong class="me-auto" id="toast-title">Notification</strong>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
        <div class="toast-body" id="toast-body">Message here</div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
